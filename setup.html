<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Mobster</title>

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://bootswatch.com/darkly/bootstrap.min.css" crossorigin="anonymous">

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <script type="text/javascript" src="./src/elm.js"></script>
    <script>window.Elm = require('./src/elm.js');</script>
    <style>
      html,body {
        -webkit-user-select: none;
        user-select: none;
        width: 100%;
        height: 100%;
        padding: 50px;
      }

      .btn:focus {
        outline: none;
      }

      .btn:active {
        outline: none;
      }

      .btn:active:focus {
        outline: none;
      }

      ul {
        list-style: none;
      }

      .top-buffer {
        margin-top: 20px;
      }

      .right-buffer {
        margin-right: 10px;
      }

      .transparent {
        opacity: .2 !important;
        background-color: rgba(150, 150, 150, 0.2);
      }
      </style>
  </head>
  <body id="setup-window">
  </body>

  <script>
    const $ = require('jquery')
    const {ipcRenderer} = require('electron');

    let setup = Elm.Setup.Main.fullscreen();

    setup.ports.startTimer.subscribe(function(flags) {
      ipcRenderer.send('start-timer', flags)
    });

    setup.ports.quit.subscribe(function() {
      ipcRenderer.send('quit')
    });

    setup.ports.selectDuration.subscribe(function(id) {
      document.getElementById(id).select()
    });

    $(() => {
      $('.invisible-trigger').hover(
        () => { $('body').addClass('transparent') },
        () => { $('body').removeClass('transparent') }
      )
    })

  </script>
</html>
